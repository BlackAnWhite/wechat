<import src="../../template/view/pro-list.wxml" />
<!--index.wxml-->
<view class="container">
  <scroll-view scroll-y style="height: {{windowHeight}}px;" bindscroll="handleScroll" bindscrolltolower="handleSscrollToLower">
    <!-- 头部位置信息及搜索框 -->
    <view class="header">
      <view class="address" bindtap="handleChooseAddress">
        <image src="../../images/address.png" style="width:17rpx;height: 22rpx"></image>
        <text>{{!address?'请选择地址':address}}</text>
      </view>
      <view class="search-box" bindtap="goToSearch">
        <icon type="search" size="12" color="#a6a6a6" />
        <text>拉面</text>
        <!-- <input placeholder="拉面" disabled="true" /> -->
      </view>
    </view>
    <!-- banner -->
    <swiper class="carousel" style="height:{{swiperHeight}}px" indicator-dots="{{carousel.indicatorDots}}" indicator-color="{{carousel.indicatorColor}}" indicator-active-color="{{carousel.indicatorActiveColor}}" autoplay="carousel.autoplay" interval="{{carousel.interval}}" circular="carousel.circular">
      <block wx:for="{{carousel.imagesUrl}}" wx:key="key">
        <swiper-item>
          <image src="{{item}}" bindload="imageLoad" mode="widthFix"></image>
        </swiper-item>
      </block>
    </swiper>
    <!-- nav -->
    <view class="nav-box">
      <view class="nav">
        <view class="nav-item">
          <navigator url="../building/building?title=服饰专区" hover-class="none">
            <image src="../../images/inav01.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../shoplist/shoplist?title=餐饮美食" hover-class="none">
            <image src="../../images/inav02.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../shoplist/shoplist?title=酒店住宿" hover-class="none">
            <image src="../../images/inav03.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../shoplist/shoplist?title=拼车出行" hover-class="none">
            <image src="../../images/inav04.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../building/building?title=美容美甲" hover-class="none">
            <image src="../../images/inav05.png"></image>
          </navigator>
        </view>
      </view>
      <view class="nav">
        <view class="nav-item">
          <navigator url="../building/building?title=安" hover-class="none">
            <image src="../../images/inav06.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../building/building?title=居" hover-class="none">
            <image src="../../images/inav07.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../building/building?title=乐" hover-class="none">
            <image src="../../images/inav08.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../building/building?title=业" hover-class="none">
            <image src="../../images/inav09.png"></image>
          </navigator>
        </view>
        <view class="nav-item">
          <navigator url="../building/building?title=特" hover-class="none">
            <image src="../../images/inav10.png"></image>
          </navigator>
        </view>
      </view>
    </view>
    <!-- 热门推荐 -->
    <view class="shops">
      <!-- 区域标题 -->
      <view class="area-title" wx:if="true" style="margin-bottom: {{tagNavFixed ? '80rpx':0}}">
        <view class="line"></view>
        <text>热门推荐</text>
        <view class="line"></view>
      </view>
      <!-- 标签的导航 -->
      <view class="tag-nav" style="position:{{tagNavFixed ? 'fixed' : 'static'}};background-color: {{tagNavFixed ? '#f7f7fa' : '#fff'}};">
        <text catchtap="handleComprehensiveSort">综合排序</text>
        <text catchtap="handleSalesSort">销量最高</text>
        <text catchtap="handleDistanceSort">距离最近</text>
        <text catchtap="handlePriceSort">价格最低</text>
      </view>
      <!-- 商品列表 -->
      <view class="pro-list">
        <block wx:for="{{listData}}" wx:key="key">
          <navigator url="../prodetails/prodetails?goodsid={{item.goodsid}}&shopid={{item.shopid}}">
            <template is="pro-list" data="{{item,index}}"></template>
          </navigator>
        </block>
      </view>
    </view>
    <view class="load-more-pro">
      <text>{{isLastPage?'已经没有更多内容了':'正在加载更多...'}}</text>
    </view>
  </scroll-view>
</view>